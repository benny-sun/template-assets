!function(e){e.fn.extend({socialShare:function(t){function a(){if(window.getSelection)return window.getSelection();if(document.getSelection)return document.getSelection();var e=document.selection&&document.selection.createRange();return!!e.text&&e.text}function o(t,a,o){e(t).each(function(t){e(this).delay(t*a).fadeTo(a,o)})}function r(){for(var a={blogger:{text:"Blogger",className:"aBlogger",url:"http://www.blogger.com/blog_this.pyra?t=&amp;u={u}&amp;n={t}"},delicious:{text:"Delicious",className:"aDelicious",url:"http://del.icio.us/post?url={u}&amp;title={t}"},digg:{text:"Digg",className:"aDigg",url:"http://digg.com/submit?phase=2&amp;url={u}&amp;title={t}"},facebook:{text:"Facebook",className:"aFacebook",url:"http://www.facebook.com/sharer.php?u={u}&amp;t={t}"},friendfeed:{text:"FriendFeed",className:"aFriendFeed",url:"http://friendfeed.com/share?url={u}&amp;title={t}"},google:{text:"Google+",className:"aGooglePlus",url:"https://plus.google.com/share?url={u}"},linkedin:{text:"LinkedIn",className:"aLinkedIn",url:"http://www.linkedin.com/shareArticle?mini=true&amp;url={u}&amp;title={t}&amp;ro=false&amp;summary={d}&amp;source="},myspace:{text:"MySpace",className:"aMySpace",url:"http://www.myspace.com/Modules/PostTo/Pages/?u={u}&amp;t={t}"},pinterest:{text:"Pinterest",className:"aPinterest",url:"http://pinterest.com/pin/create/button/?url={u}&amp;description={d}"},reddit:{text:"Reddit",className:"aReddit",url:"http://reddit.com/submit?url={u}&amp;title={t}"},stumbleupon:{text:"StumbleUpon",className:"aStumbleUpon",url:"http://www.stumbleupon.com/submit?url={u}&amp;title={t}"},tumblr:{text:"Tumblr",className:"aTumblr",url:"http://www.tumblr.com/share/link?url={u}&name={t}&description={d}"},twitter:{text:"Twitter",className:"aTwitter",url:"http://twitter.com/home?status={t}%20{u}"},windows:{text:"Windows",className:"aWindows",url:"http://profile.live.com/badge?url={u}"},yahoo:{text:"Yahoo",className:"aYahoo",url:"http://bookmarks.yahoo.com/toolbar/savebm?opener=tb&amp;u={u}&amp;t={t}"},weibo:{text:"微博",className:"aYahoo",url:"http://service.weibo.com/share/share.php?url={u}&appkey=&title={t}&pic=&ralateUid=&language=zh_cn"}},o=t.social.split(","),r="",i=0;i<=o.length-1;i++)a[o[i]].url=a[o[i]].url.replace("{t}",encodeURIComponent(t.title)).replace("{u}",encodeURI(t.shareUrl)).replace("{d}",encodeURIComponent(t.description)),r+='<li><a href="'+a[o[i]].url+'" target="_blank" rel="nofollow" class="'+a[o[i]].className+'"><span></span></a><span>'+a[o[i]].text+"</span></li>";e("body").append(n+r+c)}function i(t){t.blur&&e("body").children().removeClass("blurred"),e(".arthrefSocialShare").find(".overlay").removeClass("active"),e(".arthrefSocialShare").find("ul").removeClass("active"),setTimeout(function(){e(".arthrefSocialShare").find(".overlay").css("display","none"),e(".arthrefSocialShare").remove()},300)}var l={social:"",title:document.title,shareUrl:window.location.href,description:e('meta[name="description"]').attr("content"),animation:"launchpad",chainAnimationSpeed:100,whenSelect:!1,selectContainer:"body",blur:!1},n='<div class="arthref arthrefSocialShare"><div class="overlay '+(t=e.extend(!0,l,t)).animation+'"><div class="icon-container"><div class="centered"><ul>',c="</ul></div></div></div></div>";return this.each(function(){var l=t,n=e(this);l.whenSelect&&e(l.selectContainer).mouseup(function(e){var o=a();o&&(o=new String(o).replace(/^\s+|\s+$/g,""))&&(t.title=o)}),n.click(function(){r(),l.blur&&(e(".arthrefSocialShare").find(".overlay").addClass("opaque"),e("body").children().not(".arthref, script").addClass("blurred")),e(".arthrefSocialShare").find(".overlay").css("display","block"),setTimeout(function(){e(".arthrefSocialShare").find(".overlay").addClass("active"),e(".arthrefSocialShare").find("ul").addClass("active"),"chain"==l.animation&&o(e(".arthrefSocialShare").find("li"),l.chainAnimationSpeed,"1")},0)}),e(document).on("click touchstart",".arthrefSocialShare .overlay",function(e){i(l)}),e(document).on("keydown",function(e){27==e.keyCode&&i(l)}),e(document).on("click touchstart",".arthrefSocialShare li",function(e){e.stopPropagation()})})}})}(jQuery);